<!DOCTYPE html>
<head>
<meta charset="utf-8">
<script src="../node_modules/d3/dist/d3.js"></script>
</head>


<body>
    <div id='d3'></div>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-dispatch.v1.min.js"></script>
    <script src="https://d3js.org/d3-selection.v1.min.js"></script>
    <script src="https://d3js.org/d3-transition.v1.min.js"></script>
    <script src="https://d3js.org/d3-drag.v1.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.min.js"></script>
    <script src="../components/quadtree.js"></script>
    <script>
    
    const state = {
      width:      514,
      height:     514,
      size:       0,
      theta:      0.4,
      charge:     0,
      radius:     4,
      accumulate: 0,
      layout:     false,
      estimate:   false
    };

    // initialize component
    const div = d3.select(document.getElementById('d3'))
    const el = div.append('div').attr('class', 'quad')

    window.quad = quadtree(el.node(), { width: state.width, height: state.height, theta: state.theta, radius: state.radius });


    var _transitions = [
      {
        transitionForward: () => {quad.accumulate();  quad.estimate(true) },
        transitionBackward: () =>{ quad.accumulate(); quad.estimate(false) },
      },
    ]
    // for(var step=0; step<34; step++) {
    //   _transitions.push({
    //     transitionForward: () => {state.size++; quad.size(state.size)},
    //     transitionBackward: () => {state.size--; quad.size(state.size)},
    //   })
    // }
</script>

</body>
</html>
    
